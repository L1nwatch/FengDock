<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FengDock</title>
        <link rel="stylesheet" href="/static/articles/Poppins.css">
    <link rel="stylesheet" href="/static/homepage/reset.min.css">
    <link rel="stylesheet" href="/static/homepage/simple-line-icons.min.css">
    <link rel="stylesheet" href="/static/homepage/style.css?v=20251101233000">
    <link rel="shortcut icon" href="/static/favicon.ico">

</head>
<body>
<!-- partial:index.partial.html -->
<h1>FengDock</h1>
<div class="periodic-table-wrapper">
<div class="periodic-table">
    <div class="empty-spacer-1"></div>
    <div class="empty-spacer-2"></div>

    <a class="periodic-element intense-work"
       data-description="Personal Notion ðŸ“–"
       href="https://watch0.notion.site/" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-notebook icons"></i></div>
            <div class="description">Notion</div>
        </div>
    </a>

    <a class="periodic-element social-media" data-description="GitHub ä¸ªäººä¸»é¡µðŸ˜‚"
       href="https://github.com/L1nwatch" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-social-github icons"></i></div>
            <div class="description">GitHub</div>
        </div>
    </a>

    <a class="periodic-element intense-work" data-description="ä¸ªäººä½¿ç”¨çš„ Jira ðŸ”¥"
       href="https://w4tch.atlassian.net/jira" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-loop icons"></i></div>
            <div class="description">Jira</div>
        </div>
    </a>

    <a class="periodic-element intense-work"
       data-description="Mind Map" href="https://wanglin2.github.io/mind-map/#/" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-organization icons"></i></div>
            <div class="description">Mind Map</div>
        </div>
    </a>

    <a class="periodic-element fun-stuff" data-description="Music Management" href="https://music.youtube.com/"
       target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-music-tone-alt icons"></i></div>
            <div class="description">Music</div>
        </div>
    </a>

    <a class="periodic-element just-trying"
       data-description="While I want to eat ðŸ¥£" href="http://watch0.top/just_eating/home"
       target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-menu icons"></i></div>
            <div class="description">Eating</div>
        </div>
    </a>

    <a class="periodic-element intense-work"
       data-description="Loblaws dashboard"
       href="/board"
       target="_blank"
    >
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-basket-loaded icons"></i></div>
            <div class="description">Loblaws</div>
        </div>
    </a>

    <a class="periodic-element just-trying"
       data-description="ä¸ªäººç¬”è®°åº“ä¸»é¡µ"
       href="http://watch0.top/articles" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-magnifier icons"></i></div>
            <div class="description">MyBlog</div>
        </div>
    </a>

    <a class="periodic-element intense-work"
       data-description="Google Docs "
       href="https://docs.google.com/spreadsheets/u/0/" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-note icons"></i></div>
            <div class="description">GgDocs</div>
        </div>
    </a>

    <a class="periodic-element fun-stuff" data-description="While watching some comical video"
       href="http://feijisu.icu/"
       target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-camrecorder icons"></i></div>
            <div class="description">FeiJiSu</div>
        </div>
    </a>

    <a class="periodic-element intense-work"
       data-description="My To-Do List ðŸª "
       href="https://to-do.live.com/tasks/today" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-list icons"></i></div>
            <div class="description">To-Do</div>
        </div>
    </a>

    <a class="periodic-element fun-stuff"
       data-description="Watching some videos  ðŸ’¸" href="https://www.olevod.com/" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-camera icons"></i></div>
            <div class="description">OleVod</div>
        </div>
    </a>

    <a class="periodic-element social-media"
       data-description="My Resume ðŸ”–"
       href="http://watch0.top/resume" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-user icons"></i></div>
            <div class="description">Resume</div>
        </div>
    </a>

    <a class="periodic-element social-media"
       data-description="My CV ðŸ˜‚" href="http://watch0.top/cv"
       target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-people icons"></i></div>
            <div class="description">Cv</div>
        </div>
    </a>

    <a class="periodic-element social-media" data-description="ä¸ªäºº Gitee ä¸»é¡µðŸ€" target="_blank"
       href="https://gitee.com/w4tch">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-vector icons"></i></div>
            <div class="description">Gitee</div>
        </div>
    </a>

    <a class="periodic-element intense-work"
       data-description="ä¸ªäººä½¿ç”¨çš„ confluence ðŸ’ªðŸ»"
       href="https://w4tch.atlassian.net/wiki" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-docs icons"></i></div>
            <div class="description">Wiki</div>
        </div>
    </a>

    <a class="periodic-element social-media"
       data-description="é¢†è‹± linkedin ä¸ªäººä¸»é¡µ ðŸ›"
       href="https://www.linkedin.com/in/%E4%B8%B0-%E6%9E%97-ba4495102/" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-social-linkedin icons"></i></div>
            <div class="description">LinkedIn</div>
        </div>
    </a>


    <a class="periodic-element fun-stuff" data-description="å®‰å…¨æŒ‘æˆ˜é¡µé¢ ðŸ¦"
       href="http://www.wechall.net/profile/WATCH" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-game-controller icons"></i></div>
            <div class="description">WeChall</div>
        </div>
    </a>

    <a class="periodic-element intense-work" data-description="é£žä¹¦æ–‡æ¡£ âœŒï¸"
       href="https://drxsfuqrht.feishu.cn/sheets/shtcnWVRIvNaaRjrECipxsPLP0c" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-grid icons"></i></div>
            <div class="description">FeiSu</div>
        </div>
    </a>

    <a class="periodic-element just-trying"
       data-description="All my notes archives ðŸ³" href="http://watch0.top/articles/archives/"
       target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-chart icons"></i></div>
            <div class="description">Archives</div>
        </div>
    </a>

    <a class="periodic-element intense-work" data-description="Server Websiteï¸"
       href="https://my.vultr.com/" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-cloud-download icons"></i></div>
            <div class="description">Vultr</div>
        </div>
    </a>

    <a class="periodic-element just-trying" data-description="ToolHub ðŸˆðŸ•ðŸðŸ¬"
       href="http://watch0.top/tool_hub/" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-settings icons"></i></div>
            <div class="description">ToolHub</div>
        </div>
    </a>

    <a class="periodic-element intense-work" data-description="ä¸€å †å¥½ç”¨çš„å·¥å…·ï¼Œå…¨å›½pingä¹‹ç±»çš„"
       href="https://ping.chinaz.com/" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-magnet icons"></i></div>
            <div class="description">zh-tools</div>
        </div>
    </a>

    <a class="periodic-element just-trying" data-description="TimeLine ðŸ•°ï¸"
       href="http://watch0.top/timeline_app/" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-clock icons"></i></div>
            <div class="description">Timeline</div>
        </div>
    </a>

    <a class="periodic-element just-trying"
       data-description="LifeSummary" target="_blank" href="http://watch0.top/life_summary_app/">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-event icons"></i></div>
            <div class="description">LifeSum</div>
        </div>
    </a>
    <a class="periodic-element intense-work"
       data-description="JSON structure preview"
       href="/tools/json-viewer" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-docs icons"></i></div>
            <div class="description">JSONKit</div>
        </div>
    </a>
    <a class="periodic-element intense-work"
       data-description="è¥¿éƒ¨æ•°ç , Domain DNS management"
       href="https://www.west.cn/" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-home icons"></i></div>
            <div class="description">Domain</div>
        </div>
    </a>

    <a class="periodic-element intense-work" data-description="LastPass(passwords management)"
       href="https://www.lastpass.com/" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-lock icons"></i></div>
            <div class="description">LastPass</div>
        </div>
    </a>

    <a class="periodic-element just-trying"
       data-description="My secret Journal ðŸ˜›"
       href="http://watch0.top/work_journal/" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-calendar icons"></i></div>
            <div class="description">Journal</div>
        </div>
    </a>

    <a class="periodic-element intense-work" data-description="Personal Anki decks"
       href="https://anki.watch0.top/" target="_blank">
        <div class="periodic-element-inner">
            <div class="title"><i class="icon-support icons"></i></div>
            <div class="description">Anki</div>
        </div>
    </a>


</div>
</div>
<footer>
    <a href="mailto:watch1602@gmail.com" target="_blank"><i class="icon-envelope-letter icons"></i></a>
    <a href="https://github.com/L1nwatch" target="_blank"><i class="icon-social-github icons"></i></a>
    <a href="http://watch0.top" target="_blank"><i class="icon-social-dribbble icons"></i></a>
</footer>
<!-- partial -->
<script>
(() => {
  const table = document.querySelector('.periodic-table');
  if (!table) return;

  table.classList.add('is-initializing');
  table.style.visibility = 'hidden';

  let hasRevealed = false;
  const revealTable = () => {
    if (hasRevealed) return;
    hasRevealed = true;
    table.style.removeProperty('visibility');
    table.classList.remove('is-initializing');
  };

  const MAX_ITEMS = 48;
  const cards = Array.from(table.querySelectorAll('.periodic-element'));
  if (!cards.length) {
    revealTable();
    return;
  }
  const rankMap = new Map();
  const MAX_RENDER = Math.min(MAX_ITEMS, cards.length);

  const getPrimaryCategory = (card) => {
    if (card.dataset.categoryClass) return card.dataset.categoryClass;
    const classes = Array.from(card.classList).filter(
      (cls) => cls && cls !== 'periodic-element'
    );
    const category = classes[0] || 'intense-work';
    card.dataset.categoryClass = category;
    return category;
  };

  const syncCardStats = (card, stats) => {
    card.dataset.clickCount = String(stats.count);
    card.dataset.lastClick = stats.lastClick ? String(stats.lastClick) : '';
    const counterField = card.querySelector('.card-click-count');
    if (counterField) {
      counterField.value = String(stats.count);
      counterField.dataset.lastClick = stats.lastClickRaw || '';
    }
  };

  const renderOrderedCards = () => {
    const preservedNodes = Array.from(table.children).filter(
      (node) =>
        node.nodeType === Node.ELEMENT_NODE && !node.classList.contains('periodic-element')
    );

    const knownCards = cards
      .filter((card) => rankMap.has(card.dataset.linkUrl))
      .sort((a, b) => {
        const statsA = rankMap.get(a.dataset.linkUrl);
        const statsB = rankMap.get(b.dataset.linkUrl);
        if (statsB.count !== statsA.count) return statsB.count - statsA.count;
        if (statsB.lastClick !== statsA.lastClick) return statsB.lastClick - statsA.lastClick;
        return statsA.index - statsB.index;
      });

    const unknownCards = cards
      .filter((card) => !rankMap.has(card.dataset.linkUrl))
      .sort((a, b) => Number(a.dataset.originalIndex) - Number(b.dataset.originalIndex));

    const orderedCards = knownCards.concat(unknownCards);
    const limited = orderedCards.slice(0, MAX_RENDER);

    const fragment = document.createDocumentFragment();
    preservedNodes.forEach((node) => fragment.appendChild(node));
    limited.forEach((card) => fragment.appendChild(card));

    table.textContent = '';
    table.appendChild(fragment);
  };

  cards.forEach((card, index) => {
    card.dataset.originalIndex = String(index);
    try {
      card.dataset.linkUrl = new URL(card.getAttribute('href') || '', window.location.origin).href;
    } catch (err) {
      card.dataset.linkUrl = card.getAttribute('href') || '';
    }

    const descriptionEl = card.querySelector('.description');
    if (descriptionEl && !card.dataset.displayTitle) {
      card.dataset.displayTitle = descriptionEl.textContent.trim();
    }
    if (!card.dataset.descriptionText) {
      card.dataset.descriptionText = card.dataset.description || '';
    }
    getPrimaryCategory(card);

    let counterField = card.querySelector('.card-click-count');
    if (!counterField) {
      counterField = document.createElement('input');
      counterField.type = 'hidden';
      counterField.className = 'card-click-count';
      card.appendChild(counterField);
    }

    card.dataset.clickCount = card.dataset.clickCount || '0';
    card.dataset.lastClick = card.dataset.lastClick || '';
    counterField.value = counterField.value || '0';
  });

  const applyOrdering = (links) => {
    if (!Array.isArray(links) || !links.length) {
      rankMap.clear();
      cards.forEach((card) => {
        card.dataset.clickCount = card.dataset.clickCount || '0';
        card.dataset.lastClick = card.dataset.lastClick || '';
        const counterField = card.querySelector('.card-click-count');
        if (counterField) {
          counterField.value = counterField.value || '0';
          counterField.dataset.lastClick = counterField.dataset.lastClick || '';
        }
      });
      renderOrderedCards();
      revealTable();
      return;
    }

    rankMap.clear();

    links.forEach((link, index) => {
      if (!link || !link.url) return;
      let normalized;
      try {
        normalized = new URL(link.url, window.location.origin).href;
      } catch (err) {
        normalized = link.url;
      }
      rankMap.set(normalized, {
        index,
        count: Number(link.click_count ?? 0),
        lastClick: link.last_clicked_at ? Date.parse(link.last_clicked_at) || 0 : 0,
        lastClickRaw: link.last_clicked_at || '',
      });
    });

    cards.forEach((card) => {
      const stats = rankMap.get(card.dataset.linkUrl) || {
        count: 0,
        lastClick: 0,
        lastClickRaw: '',
        index: Number(card.dataset.originalIndex),
      };

      syncCardStats(card, stats);
    });
    renderOrderedCards();
    revealTable();
  };

  fetch(`/api/links/?ordering=clicks&limit=${MAX_ITEMS}`)
    .then((response) => (response.ok ? response.json() : []))
    .then(applyOrdering)
    .catch(() => {
      revealTable();
    });

  table.addEventListener(
    'click',
    (event) => {
      const card = event.target.closest('.periodic-element');
      if (!card || !card.dataset.linkUrl) return;
      const stats = rankMap.get(card.dataset.linkUrl) || {
        index: Number(card.dataset.originalIndex),
        count: Number(card.dataset.clickCount || '0'),
        lastClick: Number(card.dataset.lastClick || '0'),
        lastClickRaw: card.querySelector('.card-click-count')?.dataset.lastClick || '',
      };
      const nowTimestamp = Date.now();
      const nowIso = new Date(nowTimestamp).toISOString();
      const updatedStats = {
        ...stats,
        count: stats.count + 1,
        lastClick: nowTimestamp,
        lastClickRaw: nowIso,
      };
      rankMap.set(card.dataset.linkUrl, updatedStats);
      syncCardStats(card, updatedStats);
      renderOrderedCards();

      const payload = {
        url: card.dataset.linkUrl,
        title:
          card.dataset.displayTitle ||
          card.querySelector('.description')?.textContent?.trim() ||
          card.dataset.linkUrl,
        description: card.dataset.descriptionText || card.dataset.description || '',
        category: getPrimaryCategory(card),
        color_class: card.dataset.categoryClass || getPrimaryCategory(card),
        order_index: Number(card.dataset.originalIndex) || 0,
      };

      fetch('/api/links/click', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload),
        keepalive: true,
      }).catch(() => {});
    },
    { capture: true }
  );
})();
</script>
</body>
</html>
